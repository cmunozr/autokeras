<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Search for the Best Model and Hyperparameters — fit • autokeras</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Search for the Best Model and Hyperparameters — fit" />
<meta property="og:description" content="It will search for the best model and hyperparameters based on the
performances on validation data." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">autokeras</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-tensorflow/autokeras/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Search for the Best Model and Hyperparameters</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-tensorflow/autokeras/blob/master/R/fit.R'><code>R/fit.R</code></a></small>
    <div class="hidden name"><code>fit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>It will search for the best model and hyperparameters based on the
performances on validation data.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for AutokerasModel</span>
<span class='fu'>fit</span><span class='op'>(</span>
  <span class='va'>object</span>,
  x <span class='op'>=</span> <span class='cn'>NULL</span>,
  y <span class='op'>=</span> <span class='cn'>NULL</span>,
  epochs <span class='op'>=</span> <span class='fl'>1000</span>,
  callbacks <span class='op'>=</span> <span class='cn'>NULL</span>,
  validation_split <span class='op'>=</span> <span class='fl'>0.2</span>,
  validation_data <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>: An AutokerasModel instance.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>: Training data x. Check corresponding AutokerasModel help to note
how it should be provided.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>: Training data y. Check corresponding AutokerasModel help to note
how it should be provided.</p></td>
    </tr>
    <tr>
      <th>epochs</th>
      <td><p>: numeric. The number of epochs to train each model during the
search. If unspecified, by default we train for a maximum of `1000` epochs,
but we stop training if the validation loss stops improving for 10 epochs
(unless you specified an EarlyStopping callback as part of the `callbacks`
argument, in which case the EarlyStopping callback you specified will
determine early stopping).</p></td>
    </tr>
    <tr>
      <th>callbacks</th>
      <td><p>: list of Keras callbacks to apply during training and
validation.</p></td>
    </tr>
    <tr>
      <th>validation_split</th>
      <td><p>: numeric between 0 and 1. Defaults to `0.2`.
Fraction of the training data to be used as validation data. The model will
set apart this fraction of the training data, will not train on it, and
will evaluate the loss and any model metrics on this data at the end of
each epoch. The validation data is selected from the last samples in the
`x` and `y` data provided, before shuffling. This argument is not supported
when `x` is a dataset. The best model found would be fit on the entire
dataset including the validation data.</p></td>
    </tr>
    <tr>
      <th>validation_data</th>
      <td><p>: Data on which to evaluate the loss and any model
metrics at the end of each epoch. The model will not be trained on this
data. `validation_data` will override `validation_split`. The type of the
validation data should be the same as the training data. The best model
found would be fit on the training dataset without the validation data.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>: Unused.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A trained AutokerasModel.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://keras.rstudio.com'>"keras"</a></span><span class='op'>)</span>

<span class='co'># use the MNIST dataset as an example</span>
<span class='va'>mnist</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/keras/man/dataset_mnist.html'>dataset_mnist</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>x_train</span>, <span class='va'>y_train</span><span class='op'>)</span> <span class='op'>%&lt;-%</span> <span class='va'>mnist</span><span class='op'>$</span><span class='va'>train</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>x_test</span>, <span class='va'>y_test</span><span class='op'>)</span> <span class='op'>%&lt;-%</span> <span class='va'>mnist</span><span class='op'>$</span><span class='va'>test</span>

<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://github.com/r-tensorflow/autokeras'>"autokeras"</a></span><span class='op'>)</span>

<span class='co'># Initialize the image classifier</span>
<span class='va'>clf</span> <span class='op'>&lt;-</span> <span class='fu'><a href='model_image_classifier.html'>model_image_classifier</a></span><span class='op'>(</span>max_trials <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'># It tries 10 different models</span>
  <span class='fu'>fit</span><span class='op'>(</span><span class='va'>x_train</span>, <span class='va'>y_train</span><span class='op'>)</span> <span class='co'># Feed the image classifier with training data</span>

<span class='co'># If you want to use own valitadion data do:</span>
<span class='va'>clf</span> <span class='op'>&lt;-</span> <span class='fu'><a href='model_image_classifier.html'>model_image_classifier</a></span><span class='op'>(</span>max_trials <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>fit</span><span class='op'>(</span>
    <span class='va'>x_train</span>,
    <span class='va'>y_train</span>,
    validation_data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>x_test</span>, <span class='va'>y_test</span><span class='op'>)</span>
  <span class='op'>)</span>

<span class='co'># Predict with the best model</span>
<span class='op'>(</span><span class='va'>predicted_y</span> <span class='op'>&lt;-</span> <span class='va'>clf</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='predict.html'>predict</a></span><span class='op'>(</span><span class='va'>x_test</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Evaluate the best model with testing data</span>
<span class='va'>clf</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='evaluate.html'>evaluate</a></span><span class='op'>(</span><span class='va'>x_test</span>, <span class='va'>y_test</span><span class='op'>)</span>

<span class='co'># Get the best trained Keras model, to work with the keras R library</span>
<span class='fu'><a href='export_model.html'>export_model</a></span><span class='op'>(</span><span class='va'>clf</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Juan Cruz Rodriguez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


